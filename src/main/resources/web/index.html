<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title> Test page for Jexxa </title>
</head>

<body>
<h1 id = "contextName">Context Name: </h1>

<script>
    const BASE_URL = location.href.substring(0, location.href.lastIndexOf('/')) ;

    const appendToDOM = (message) => {
        document
            .querySelector("#contextName")
            .append(message);
    };

    const fetchGreetings = () => {
        console.log(`${BASE_URL}`);
        fetch(`${BASE_URL}/BoundedContext/contextName`)
            .then( response => {
                if (!response.ok) {
                    throw Error(response.statusText);
                }
                return response.json();
            })
            .then(data => {
                console.log(`GET contextName`, data);
                // append to DOM
                appendToDOM(data);
            })
            .catch(error => console.error(error));
    };

    fetchGreetings();
</script>
</body>
</html>